from flask import Flask,requestimport osfrom werkzeug.utils import secure_filenameapp = Flask(__name__)# 文件上传目录app.config['UPLOAD_FOLDER'] = 'static/uploads/'# 支持的文件格式app.config['ALLOWED_EXTENSIONS'] = {'png', 'jpg', 'jpeg', 'gif'}  # 集合类型# 判断文件名是否是我们支持的格式def allowed_file(filename):    return '.' in filename and \           filename.rsplit('.', 1)[1] in app.config['ALLOWED_EXTENSIONS']@app.route('/')def hello_world():    return 'hello world'@app.route('/upload', methods=['POST'])def upload():    upload_file = request.files['image']    if upload_file and allowed_file(upload_file.filename):        filename = secure_filename(upload_file.filename)        # 将文件保存到 static/uploads 目录，文件名同上传时使用的文件名        upload_file.save(os.path.join(app.root_path, app.config['UPLOAD_FOLDER'], filename))        return 'info is '+request.form.get('info', '')+'. success'    else:        return 'failed'if __name__ == '__main__':    app.run(host="0.0.0.0", debug=True, port=9999)